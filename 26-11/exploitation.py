import numpy as np
import matplotlib as mpl

def data_to_array(file, columns, names=None):
    with open(file, 'br') as f:
        first_line = f.readline().decode().strip().split(';')
        print(first_line)
        list_columns = []
        for column in columns:
            list_columns.append(first_line.index(column))

        if names is True:
            names=first_line

        converters = {i: lambda s: float(s.decode().replace(',', '.')) for i in list_columns}

        A = np.genfromtxt(f, delimiter=';', names=names, usecols=list_columns,
                          converters=converters)

        return A

